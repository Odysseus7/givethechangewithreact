[{"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/index.js":"1","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/App.js":"2","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/firebase/firebase.utils.js":"3","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/pages/index/index.jsx":"4","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/pages/dashboard/dashboard.jsx":"5","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/pages/register/register.jsx":"6","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/logo/logo.component.jsx":"7","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/footer/footer.component.jsx":"8","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/signin/signin.component.jsx":"9","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/signup/signup.component.jsx":"10","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/button/button.component.jsx":"11","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/form-input/formInput.component.jsx":"12","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/balance/balance.component.jsx":"13","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/functions/functions.js":"14","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/spendings-form/spendings-form.component.jsx":"15","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/logout/logout.component.jsx":"16","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/displaydate/displaydate.component.jsx.jsx":"17"},{"size":155,"mtime":1608240042408,"results":"18","hashOfConfig":"19"},{"size":1834,"mtime":1608282416347,"results":"20","hashOfConfig":"19"},{"size":1603,"mtime":1608240527198,"results":"21","hashOfConfig":"19"},{"size":432,"mtime":1608240042410,"results":"22","hashOfConfig":"19"},{"size":942,"mtime":1608279477532,"results":"23","hashOfConfig":"19"},{"size":426,"mtime":1608240042411,"results":"24","hashOfConfig":"19"},{"size":474,"mtime":1608240042403,"results":"25","hashOfConfig":"19"},{"size":205,"mtime":1608240042401,"results":"26","hashOfConfig":"19"},{"size":2196,"mtime":1608282442530,"results":"27","hashOfConfig":"19"},{"size":2733,"mtime":1608282128850,"results":"28","hashOfConfig":"19"},{"size":291,"mtime":1608240042400,"results":"29","hashOfConfig":"19"},{"size":494,"mtime":1608240042402,"results":"30","hashOfConfig":"19"},{"size":395,"mtime":1608278508090,"results":"31","hashOfConfig":"19"},{"size":364,"mtime":1608278465182,"results":"32","hashOfConfig":"19"},{"size":2557,"mtime":1608278900752,"results":"33","hashOfConfig":"19"},{"size":329,"mtime":1608279336279,"results":"34","hashOfConfig":"19"},{"size":286,"mtime":1608279486015,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1gdo7jt",{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"38"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/index.js",[],["74","75"],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/App.js",["76"],"import React, { useState, useEffect } from 'react';\n\nimport { BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\";\nimport Index from './pages/index/index';\nimport Register from './pages/register/register';\nimport Dashboard from './pages/dashboard/dashboard';\n\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport './App.css';\n\nfunction App() {\n  const [state, setState] = useState({currentUser: null});\n\n  let unsubscribeFromAuth = null;\n\n  useEffect(() => {\n    /* code that will be ran on component mount. if the 2nd arg is an empty array, it will\n    behave exactly like componentDidMount. If you pass a value, useEffect will execute everytime\n    those values change.*/\n\n    unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if(userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n\n        userRef.onSnapshot(snapshot => {\n          setState({currentUser: {\n            id: snapshot.id,\n            ...snapshot.data()\n          }});\n        });\n      }\n\n      setState({currentUser: null}) // if there is no userauth, there is no current user.\n    });\n\n    return function cleanup() {\n      unsubscribeFromAuth();\n    };\n\n  }, []);\n\n  return (\n    <div className=\"App\">\n    <Router>\n      <Switch basename={process.env.PUBLIC_URL}> \n          <Route path={`${process.env.PUBLIC_URL}/`} render={props => state.currentUser ? <Dashboard {...props} currentUser={state.currentUser} /> : <Index />} />\n          <Route path={`${process.env.PUBLIC_URL}/signup`} component={Register} />\n          <Route path={`${process.env.PUBLIC_URL}/dashboard`} render={props => state.currentUser ? <Dashboard {...props} currentUser={state.currentUser} /> : <Redirect to=\"/\" />}/>\n      </Switch>\n    </Router>\n\n    </div>\n  );\n}\nexport default App;\n","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/firebase/firebase.utils.js",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/pages/index/index.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/pages/dashboard/dashboard.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/pages/register/register.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/logo/logo.component.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/footer/footer.component.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/signin/signin.component.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/signup/signup.component.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/button/button.component.jsx",[],["77","78"],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/form-input/formInput.component.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/balance/balance.component.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/functions/functions.js",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/spendings-form/spendings-form.component.jsx",["79"],"import React, {useState} from 'react';\n\nimport firebase, { firestore } from '../../firebase/firebase.utils';\n\nimport { formatMoney } from '../../functions/functions';\nimport FormInput from '../form-input/formInput.component';\nimport Button from '../../components/button/button.component';\n\nimport './spendings-form.styles.scss';\n\nconst SpendingsForm = ({currentUser}) => {\n    const [purchase, setPurchase] = useState(\"\");\n\n    const userId = currentUser.id;\n\n    const handleChange = (event) => {\n        const value = event.target.value;\n        setPurchase(value);\n    }\n\n    const updateBalance = (userId, amount) => {\n        const update = firebase.firestore.FieldValue.increment(amount);\n        firestore.collection('users').doc(userId).update({ balance: update });\n    }\n\n    const calculateChange = (amount) => {\n        if(amount.indexOf('.') == -1) { // check if round purchase is entered, eg 2. Then change = 0.\n            return 0;\n        } else {\n            // Only get decimal part of change\n            let dec = parseInt((amount).split(\".\")[1]);\n\n            // check if no leading zeroes were entered\n            if((amount).split(\".\")[1].length === 1) {\n                dec = parseInt((amount).split(\".\")[1] + \"0\");\n            }\n            \n            const cents = dec / 100;\n            const change = 1 - cents;\n            return change;\n        }\n        \n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        const change = calculateChange(purchase);\n        updateBalance(userId, change);\n\n        setPurchase(\"\");\n    }\n\n    const reset = () => {\n        firestore.collection('users').doc(userId).update({balance: 0});\n    }\n\n    return (\n        <div>\n            <form className=\"add\" onSubmit={handleSubmit} method=\"post\">\n                <div className=\"add_intro\">\n                    <p>\n                        Hi <span className=\"bold\">{currentUser.displayName}</span>! What are your spendings today?\n                    </p>\n                </div>\n\n                <FormInput\n                    type=\"number\"\n                    name=\"purchase\"\n                    value={purchase}\n                    onChange={handleChange}\n                    placeholder={formatMoney(2.70)}\n                    min=\"0\"\n                    step=\".01\"\n                    required\n                />\n                <Button type=\"submit\">add</Button>\n                <Button onClick={reset}>reset</Button>\n                \n            </form>\n        </div>\n    )\n}\n\nexport default SpendingsForm;\n","/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/logout/logout.component.jsx",[],"/Users/chalitandunu/Desktop/JS2020/givethechangewithreact/src/components/displaydate/displaydate.component.jsx.jsx",[],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":21,"column":27,"nodeType":"86","endLine":34,"endColumn":7},{"ruleId":"80","replacedBy":"87"},{"ruleId":"82","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":27,"column":32,"nodeType":"91","messageId":"92","endLine":27,"endColumn":34},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"react-hooks/exhaustive-deps","Assignments to the 'unsubscribeFromAuth' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","CallExpression",["93"],["94"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]